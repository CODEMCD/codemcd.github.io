<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.13.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Algorithm]비트마스크 - CODEMCD’s Tech BLOG</title>
<meta name="description" content="비트 연산">



<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="CODEMCD's Tech BLOG">
<meta property="og:title" content="[Algorithm]비트마스크">
<meta property="og:url" content="https://codemcd.github.io/pages/CODEMCD/algorithm/Algorithm-%EB%B9%84%ED%8A%B8%EB%A7%88%EC%8A%A4%ED%81%AC/">


  <meta property="og:description" content="비트 연산">







  <meta property="article:published_time" content="2019-01-06T00:00:00+09:00">





  

  


<link rel="canonical" href="https://codemcd.github.io/pages/CODEMCD/algorithm/Algorithm-%EB%B9%84%ED%8A%B8%EB%A7%88%EC%8A%A4%ED%81%AC/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "CODEMCD",
      "url": "https://codemcd.github.io/pages/CODEMCD",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/pages/CODEMCD/feed.xml" type="application/atom+xml" rel="alternate" title="CODEMCD's Tech BLOG Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/pages/CODEMCD/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    
      <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$'] ],
    processEscapes: true,
  }
});
MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
	  alert("Math Processing Error: "+message[1]);
	});
MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
	  alert("Math Processing Error: "+message[1]);
	});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

    
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/pages/CODEMCD/">CODEMCD's Tech BLOG</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/pages/CODEMCD/about/" >About</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/CODEMCD/toy/" >Toy Project</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/CODEMCD/algorithm/" >Algorithm</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/CODEMCD/language/" >Language</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/CODEMCD/study/" >Study</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="http://schema.org/Person">

  

  <div class="author__content">
    
      <a href="/pages/CODEMCD/"><h3 class="author__name" itemprop="name">CODEMCD</h3></a>
    
    
      <p class="author__bio" itemprop="description">
        JUST DO...
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">South Korea</span>
        </li>
      

      
        
          
        
          
            <li><a href="https://codemcd.blogspot.com/"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Blog</a></li>
          
        
          
        
          
        
          
            <li><a href="https://codemcd.github.io/categories/"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
        
      

      

      
        <li>
          <a href="mailto:psbum1609@gmail.com">
            <meta itemprop="email" content="psbum1609@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> 이메일
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  
  <!-- Add category side bar -->
  
    <nav class="nav__list">
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">토글 메뉴</label>
  <ul class="nav__items" id="category_tag_menu">
      <li>

        <span class="nav__sub-title" v-on:click='togglec1()'>Toy</span>
        <ul v-show="flag_c1">
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li><a href="/tags/toy-blog" class="">Blog (2)</a></li>
            
          
            
              
                <li><a href="/tags/toy-jsdslib" class="">jsdsLib (4)</a></li>
            
          
            
          
        </ul>

        <span class="nav__sub-title" v-on:click='togglec2()'>Algorithm</span>
        <ul v-show="flag_c2">
          
            
              
                <li><a href="/tags/algorithm-algospot" class="">Algospot (24)</a></li>
            
          
            
              
                <li><a href="/tags/algorithm-codingtest" class="">CodingTest (14)</a></li>
            
          
            
              
                <li><a href="/tags/algorithm-algorithm" class="">Algorithm (10)</a></li>
            
          
            
              
                <li><a href="/tags/algorithm-datastructure" class="">DataStructure (8)</a></li>
            
          
            
          
            
          
            
          
            
              
                <li><a href="/tags/algorithm-boj" class="">BOJ (13)</a></li>
            
          
            
          
            
          
            
          
            
          
            
          
        </ul>

        <span class="nav__sub-title" v-on:click='togglec3()'>Language</span>
        <ul v-show="flag_c3">
          
            
          
            
          
            
          
            
          
            
          
            
              
                
                  <li><a href="/tags/language-java" class="">Java (15)</a></li>
                
            
          
            
              
                
                  <li><a href="/tags/language-kotlin" class="">Kotlin (6)</a></li>
                
            
          
            
          
            
              
                
                  <li><a href="/tags/language-ccpp" class="">C/C++ (2)</a></li>
                
            
          
            
          
            
          
            
          
            
          
        </ul>

        <span class="nav__sub-title" v-on:click='togglec4()'>Study</span>
        <ul v-show="flag_c4">
          
            
          
            
          
            
          
            
          
            
              
                <li><a href="/tags/study-database" class="">Database (2)</a></li>
            
          
            
          
            
          
            
          
            
          
            
              
                <li><a href="/tags/study-cloud" class="">Cloud (1)</a></li>
            
          
            
          
            
          
            
              
                <li><a href="/tags/study-operatingsystem" class="">OperatingSystem (8)</a></li>
            
          
        </ul>

      </li>
  </ul>
</nav>

  
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Algorithm]비트마스크">
    <meta itemprop="description" content="비트 연산">
    <meta itemprop="datePublished" content="January 06, 2019">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Algorithm]비트마스크
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
              <a href="#page-title" class="back-to-top">Back to Top &uarr;</a>
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Contents</h4></header>
              <ul class="toc__menu">
  <li><a href="#비트-연산자">비트 연산자</a>
    <ul>
      <li><a href="#and-or-xor">AND, OR, XOR</a></li>
      <li><a href="#not">NOT</a></li>
      <li><a href="#shift">shift</a></li>
    </ul>
  </li>
  <li><a href="#유의할-점">유의할 점</a></li>
  <li><a href="#비트마스크를-이용한-집합-구현">비트마스크를 이용한 집합 구현</a>
    <ul>
      <li><a href="#피자집-예제">피자집 예제</a></li>
    </ul>
  </li>
  <li><a href="#참고문헌">참고문헌</a></li>
</ul>
            </nav>
          </aside>
        
        <p>비트마스크란 정수의 이진수 표현을 자료 구조로 쓰는 기법을 말한다. 비트마스크는 다음과 같은 특징을 가진다.</p>

<ul>
  <li>더 빠른 수행 시간
컴퓨터는 내부적으로 이진수를 사용하기하므로, 이진법 관련 연산들을 매우 빨리 수행할 수 있다. 이를 이용하면 시간복잡도를 O(1) 로 구현할 수 있는 경우가 많다. 물론 비트마스크를 사용할 수 있다는 것은 원소의 수가 많지 않다는 뜻이지만, 이와 같은 연산을 굉장히 여러 번 수행하는 경우에는 큰 속도 향샹을 가져올 수 있다.</li>
  <li>더 간결한 코드
비트마스크를 사용하면 다양한 집합 연산들을 반복문 없이 한 줄에 쓸 수 있으므로 훨씬 짧은 코드로 작성할 수 있다.</li>
  <li>더 작은 메모리 사용량
비트마스크를 이용하는 코드들은 같은 데이터를 더 적은 메모리를 사용해 표현할 수 있다. 더 적은 데이터를 사용한다는 것은 더 많은 데이터를 미리 계산해서 저장해 둘 수 있다는 뜻이고, 이는 프로그램 속도 향샹과 캐시 효율을 높일 수 있다.</li>
  <li>연관 배열을 배열로 대체
boolean 을 키로 갖는 연관 배열 객체 <code class="highlighter-rouge">map&lt;vector&lt;bool&gt;, int&gt;</code> 를 사용하고 있다고 하자. 이 경우에 비트마스크를 사용하여 같은 정보를 정수 변수로 나타내면 단순하게 <code class="highlighter-rouge">int[]</code> 배열로 표현할 수 있다. 많은 경우 이 기법은 시간과 메모리에서 큰 차이를 불러옵니다.</li>
</ul>

<h2 id="비트-연산자">비트 연산자</h2>
<p>비트 연산자는 정수 변수를 비트별로 조작할 수 있는 연산자입니다.</p>

<h3 id="and-or-xor">AND, OR, XOR</h3>
<p>비트별 AND, OR, XOR 연산의 결과는 아래의 표와 같다. 그리고 괄호안은 C++ 기준 표현 방식이다.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">bit 1</th>
      <th style="text-align: center">bit 2</th>
      <th style="text-align: center">AND(&amp;)</th>
      <th style="text-align: center">OR(</th>
      <th style="text-align: center">)</th>
      <th>XOR(^)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<ul>
  <li>예제</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/34755287/50885283-98706800-1430-11e9-9084-d7926d174b0f.JPG" alt="and_or_xor" /></p>

<h3 id="not">NOT</h3>
<p>비트별 NOT 연산은 켜져 있는 비트는 끄고, 꺼져 있는 비트는 켠 결과를 반환한다. C++ 기준 정수 a의 비트별 NOT 연산을 수행하려면 <code class="highlighter-rouge">~a</code> 로 표현한다.</p>

<ul>
  <li>예제</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/34755287/50885284-9908fe80-1430-11e9-9f17-dfe129362777.JPG" alt="not" /></p>

<h3 id="shift">shift</h3>
<p>시프트(shift) 연산자는 정수 a 의 비트들을 왼쪽 또는 오른쪽으로 원하는 만큼 움직인다. C++ 기준 정수 a 를 왼쪽으로 b 비트 시프트 수행은 <code class="highlighter-rouge">a &lt;&lt; b</code>이고, 오른쪽으로 b 비트 시프트 수행은 <code class="highlighter-rouge">a &gt;&gt; b</code> 로 표현한다.</p>

<ul>
  <li>예제</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/34755287/50885285-9908fe80-1430-11e9-9577-f03d826eb059.JPG" alt="shift" /></p>

<h2 id="유의할-점">유의할 점</h2>
<ol>
  <li>비트 연산자 우선순위
C++ 이나 Java 에서는 &amp;, |, ^ 등의 비트 연산자의 우선순위는 ==, != 등의 비교 연산자의 우선순위보다 낮다. 즉 아래와 같은 코드는 원하지 않는 결과가 나온다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="mi">6</span> <span class="o">&amp;</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">4</span><span class="p">);</span>
</code></pre></div></div>
<p>이러한 실수를 줄이기 위해서는 비트 연산자를 사용할 때는 반드시 괄호를 추가하는 습관을 들이는 것이 좋다.</p>

<ol>
  <li>오버플로
64비트 정수를 비트마스크로 사용할 때 아래의 코드는 문제가 발생할 확률이 높다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="nf">isBitSet</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">b</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>위의 코드는 부호 없는 64비트 비트마스크 a 의  b 번 비트가 켜져 있는지 확인하는 코드이다. 여기서 문제점은 1 이라는 수이다. C++ 에서 1 은 기본적으로 부호 있는 32비트 상수이다. 만약 b 가 32 이상이면 오버플로가 발생한다. 이를 해결하기 위해서는 1 앞에 <code class="highlighter-rouge">ull</code> 을 붙여 64비트 정수로 형변환을 해야 한다.</p>

<ol>
  <li>부호
부호 있는 정수형에서 최상위 비트는 부호를 나타낸다. 최상위 비트가 켜져있으면 음수를 표현하는 것이다. 이와 같이 부호가 있는 32비트 정수형에서 모든 비트를 사용한다면 자잘한 버그가 난다. 만약 해당 비트를 모두 사용하고 싶은 경우에는 부호가 없는 정수형을 써야한다.</li>
</ol>

<h2 id="비트마스크를-이용한-집합-구현">비트마스크를 이용한 집합 구현</h2>
<p>비트마스크의 가장 중요한 사용 사례는 집합을 구현하는 것이다. 이 표현에서 N 비트 정수 변수는 0 부터  N - 1 까지의 정수 원소를 가질 수 있는 집합이 된다. 이때 원소 i 가 집합에 속해 있는지 여부는 $2^i$ 을 나타내는 비트가 켜져있는지를 확인해야한다. 예를 들어 여섯 개의 원소를 갖는 집합 {1, 4, 5, 6, 7, 9} 를 표현하는 정수는 754 이다.</p>

<script type="math/tex; mode=display">2^1 + 2^4 + 2^5 + 2^6 + 2^7 + 2^9 = 10 1111 0010_2 = 754</script>

<h3 id="피자집-예제">피자집 예제</h3>
<p>고객들이 원하는 토핑을 골라 주문할 수 있는 피자집의 주문 시스템을 만들다고 하자. 이 피자집에는 0 부터 19 까지의 번호를 갖는 20 가지의 토핑이 있고, 주문시 토핑을 넣기/넣지 않기를 선택할 수 있다. 그러면 한 피자의 정보는 20 종류의 원소만을 가지는 집합이 되고, 비트마스크를 이용해 표현할 수 있다.(물론, 크기 20 의 불린 값 배열을 사용할 수도 있다.)</p>

<ul>
  <li>공집합과 꽉 찬 집합 구하기
공집합은 간단히 상수 0 으로 나타낼 수 있다. 꽉 찬 집합은 아래의 코드와 같이 표현한다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">fullPizza</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">20</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">// (1 &lt;&lt; 20) = 000100000000000000000000
// (1 &lt;&lt; 20) - 1 = 000011111111111111111111
</span></code></pre></div></div>

<ul>
  <li>원소 추가
집합의 가장 기초적인 연산은 원소를 추가하고 삭제하는 것이다. 비트마스크를 사용하는 집합에서 원소를 추가한다는 것은 해당 비트를 켠다는 것이다. 토핑 p 를 집합에 추가하는 코드는 아래와 같다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">toppings</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>원소의 포함 여부 확인
집합 toppings에 토핑 p 가 추가되었는지 확인하는 코드는 아래와 같다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">toppings</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">))</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"topping p is in"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</code></pre></div></div>

<p>주의할 점은 &amp; 연산의 결과값은 0 또는 (1 « p) 이다. 대부분의 논리 연산처럼 0(false) 혹은 1(true) 값이 반환된다고 생각하면 안된다. 예를 들어 p = 3 인 경우에서, p 가 토핑에 들어있다면 위의 조건문은 8 을 반환하고, 들어있지 않다면 0 을 반환한다.</p>

<ul>
  <li>원소 삭제
토핑 p 를 삭제하는 경우에는 간단하게 아래의 코드를 생각할 수 있다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">toppings</span> <span class="o">-=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">);</span>
</code></pre></div></div>

<p>하지만 위 코드는 토핑 p 가 반드시 toppings 집합에 포함되어 있어야 한다는 조건이 있다. 그러므로, 원소가 포함되어 있는지 여부와 상광없이 정상적으로 삭제하고 싶다면 다음 코드를 사용할 수 있다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">toppings</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>원소 토글(toggle)
원소 토글은 해당 비트가 켜져 있으면 끄고, 꺼져 있으면 켜는 동작을 수행한다. 이것은 간단히 XOR 연산을 사용할 수 있다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">toppings</span> <span class="o">^=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>두 집합에 대해 연산하기
두 개의 토핑 집합 a 와 b 의 집합 연산은 다음과 같이 구할 수 있다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">added</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">|</span> <span class="n">b</span><span class="p">);</span>           <span class="c1">// a 와 b 의 합집합
</span><span class="kt">int</span> <span class="n">intersection</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">&amp;</span> <span class="n">b</span><span class="p">);</span>    <span class="c1">// a 와 b 의 교집합
</span><span class="kt">int</span> <span class="n">removed</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">b</span><span class="p">);</span>        <span class="c1">// a 에서 b 를 뺀 차집합   
</span><span class="kt">int</span> <span class="n">toggled</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">^</span> <span class="n">b</span><span class="p">);</span>         <span class="c1">// a 와 b 중 하나에만 포함된 원소들의 집합
</span></code></pre></div></div>

<p>이 코드의 수행 시간은 원소 하나에 대해 수행하는 것과 같다.</p>

<ul>
  <li>집합의 크기 구하기
비트마스크를 사용할 때 집합에 포함된 원소의 수를 구하는 간단한 방법은 딱히 없다. 따라서 각 비트를 순회하면서 켜져 있는 비트의 수를 직접 세어야 한다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">bitCount</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">bitCount</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>이 외에도 여러 프로그래밍 환경에서 위의 동작을 수행하는 내장 명령어를 제공한다. 다음은 32비트 부호 없는 정수 toppings 에 켜진 비트의 수를 구하는 명령어들이다.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">gcc/g++</th>
      <th style="text-align: center">__builtin_popcount(toppings)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Visual C++</td>
      <td style="text-align: center">__popcnt(toppings)</td>
    </tr>
    <tr>
      <td style="text-align: center">Java</td>
      <td style="text-align: center">Integer.bitCount(toppings)</td>
    </tr>
  </tbody>
</table>

<p>이 명령어들은 다양한 최적화를 통해 매우 빠르게 동작한다.</p>

<ul>
  <li>최소 원소 찾기
최소 원소는 최하위 비트에서 시작하여 가장 처음 켜져 있는 비트를 말한다. 즉, 최소 원소부터 최하위 비트까지 0 의 개수를 통해 해당 최소 원소의 번호를 반환한다. 이 동작 역시 내장 명령어로 제공한다. 다음은 32비트 부호없는 정수 toppings에서 켜져 있는 최하위 비트의 위치를 구하는 명령어이다.</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">gcc/g++</th>
      <th style="text-align: center">__builtin_ctz(toppings)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Visual C++</td>
      <td style="text-align: center">_BitScanForward(&amp;index, toppings)</td>
    </tr>
    <tr>
      <td style="text-align: center">Java</td>
      <td style="text-align: center">Integer.numberOfTrailingZeros(toppings)</td>
    </tr>
  </tbody>
</table>

<p>이 연산들 역시 매우 빠르게 동작한다. 그리고 g++ 의 내장 함수인 <code class="highlighter-rouge">__buitin_ctz()</code> 는 입력으로 0 이 주어졌을 때의 결과가 정의되어 있지 않기 때문에 주의해야 한다.</p>

<p>최하위 비트의 번호 대신 해당 비트를 직접 구할 수도 있다. 예를 들어 40이 주어질 경우 3 대신 &amp;2^3$ 을 구하고 싶은 것이다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">firstTopping</span> <span class="o">=</span> <span class="p">(</span><span class="n">toppings</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">toppings</span><span class="p">);</span>
</code></pre></div></div>

<p>이는 컴퓨터가 음수를 표현하는 2의 보수를 사용한다. 2의 보수를 사용하는 시스템에서는 음수 -toppings 를 표현하기 위해 toppings 에 비트별 NOT 연산을 적용하고 그 결과에 1을 더한다. 예를 들어 toppings 의 값이 160 이라고 하자. 그러면 아래와 같은 계산 과정을 가진다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       toppings      = 1010 0000
      -toppings      = 0110 0000
toppings &amp; -toppings = 0010 0000
</code></pre></div></div>

<ul>
  <li>최소 원소 지우기
최소 원소를 구하지 않고도 최소 원소를 지울 수도 있다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">toppings</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="n">toppings</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</code></pre></div></div>

<p>이는 toppings - 1 의 이진수 표현을 생각해보면 쉽게 알 수 있다. toppings - 1 의 이진수 표현은 toppings 의 켜져 있는 최하위 비트를 끄고 그 밑의 비트들을 전부 켠 것이다. 예를 들어 위와 같이 toppings 값이 160 이라고 하자.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       toppings           = 1010 0000
       toppings - 1       = 1001 1111
toppings &amp; (toppings - 1) = 1000 0000
</code></pre></div></div>

<p>이 방법은 어떤 정수가 2의 거듭제곱 값인지 확인할 때도 유용하다. 2의 거듭제곱 갑들은 이진수 표현에서 켜진 비트가 1개 밖에 없으므로, 위 코드의 결과값은 0이 된다.</p>

<ul>
  <li>모든 부분 집합 순회하기
비트마스크를 사용하면 for 문 하나로 간단히 모든 부분 집합을 순회할 수 있다. 예를 들어 pizza 가 {a, b, c} 라면 {a}, {b}, {c}, {a, b}, {a, c}, {b, c}, {a, b, c} 가 나온다. 이의 코드는 다음과 같다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">subset</span> <span class="o">=</span> <span class="n">pizza</span><span class="p">;</span> <span class="n">subset</span><span class="p">;</span> <span class="n">subset</span> <span class="o">=</span> <span class="p">((</span><span class="n">subset</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">pizza</span><span class="p">))</span> <span class="p">{</span>
  <span class="c1">//subset 은 pizza 의 부분집합
</span><span class="p">}</span>
</code></pre></div></div>

<p>이 for 문은 subset = 0 인 시점에서 종료하므로, 공집합은 방문하지 않는다는 것에 주의해야 한다.</p>

<h2 id="참고문헌">참고문헌</h2>
<ul>
  <li>프로그래밍 대회에서 배우는 알고리즘 문제해결전략, 인사이트, 구종만 지음</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> 태그: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/pages/CODEMCD/tags/#algorithm-algorithm" class="page__taxonomy-item" rel="tag">
        
        Algorithm
      </a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/pages/CODEMCD/categories/#algorithm" class="page__taxonomy-item" rel="tag">Algorithm</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time datetime="2019-01-06T00:00:00+09:00">January 06, 2019</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=%5BAlgorithm%5D%EB%B9%84%ED%8A%B8%EB%A7%88%EC%8A%A4%ED%81%AC%20https%3A%2F%2Fcodemcd.github.io%2Fpages%2FCODEMCD%2Falgorithm%2FAlgorithm-%25EB%25B9%2584%25ED%258A%25B8%25EB%25A7%2588%25EC%258A%25A4%25ED%2581%25AC%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcodemcd.github.io%2Fpages%2FCODEMCD%2Falgorithm%2FAlgorithm-%25EB%25B9%2584%25ED%258A%25B8%25EB%25A7%2588%25EC%258A%25A4%25ED%2581%25AC%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https%3A%2F%2Fcodemcd.github.io%2Fpages%2FCODEMCD%2Falgorithm%2FAlgorithm-%25EB%25B9%2584%25ED%258A%25B8%25EB%25A7%2588%25EC%258A%25A4%25ED%2581%25AC%2F" class="btn btn--google-plus" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Google Plus"><i class="fab fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fcodemcd.github.io%2Fpages%2FCODEMCD%2Falgorithm%2FAlgorithm-%25EB%25B9%2584%25ED%258A%25B8%25EB%25A7%2588%25EC%258A%25A4%25ED%2581%25AC%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/pages/CODEMCD/toy/jsdsLib-jsdsLib-npm-%ED%8C%A8%ED%82%A4%EC%A7%80/" class="pagination--pager" title="[jsdsLib]npm 패키지
">이전</a>
    
    
      <a href="/pages/CODEMCD/language/CC++-%EB%AC%B8%EC%9E%90%EC%97%B4-%EC%83%81%EC%88%98%EC%99%80-%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%B3%80%EC%88%98/" class="pagination--pager" title="[C/C++]문자열 상수와 문자열 변수
">다음</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">댓글남기기</h4>
      <section id="disqus_thread"></section>
    
</div>
    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">참고</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/pages/CODEMCD/study/OperatingSystem-8%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%8F%99%EA%B8%B0%ED%99%94-1/" rel="permalink">[OS] 8장 프로세스 동기화 - 1
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">운영체제 개념 정리
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/pages/CODEMCD/study/OperatingSystem-7%EC%9E%A5-%EC%93%B0%EB%A0%88%EB%93%9C/" rel="permalink">[OS] 7장 프로세스와 쓰레드
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">운영체제 개념 정리
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/pages/CODEMCD/study/OperatingSystem-6%EC%9E%A5-CPU%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/" rel="permalink">[OS] 6장 CPU 스케줄링
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">운영체제 개념 정리
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/pages/CODEMCD/study/OperatingSystem-5%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EA%B4%80%EB%A6%AC/" rel="permalink">[OS] 5장 프로세스 관리
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">운영체제 개념 정리
</p>
  </article>
</div>
        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="search-searchbar"></div>
    <div class="search-hits"></div></div>
      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/pages/CODEMCD/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 CODEMCD. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/pages/CODEMCD/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>


<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch-theme-algolia.min.css">

<script>
// Instanciating InstantSearch.js with Algolia credentials
const search = instantsearch({
  appId: 'I6UE8BVP0C',
  apiKey: 'f6718f69889fabcb9d71088ba50236b5',
  indexName: 'GITHUB_BLOG',
  searchParameters: {
    restrictSearchableAttributes: [
      'title',
      'content'
    ]
  }
});

const hitTemplate = function(hit) {
  const url = hit.url;
  const title = hit._highlightResult.title.value;
  const content = hit._highlightResult.html.value;

  return `
    <div class="list__item">
      <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
        <h2 class="archive__item-title" itemprop="headline"><a href="/pages/CODEMCD${url}">${title}</a></h2>
        <div class="archive__item-excerpt" itemprop="description">${content}</div>
      </article>
    </div>
  `;
}

// Adding searchbar and results widgets
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '.search-searchbar',
    poweredBy: true,
    placeholder: 'Enter your search term...'
  })
);
search.addWidget(
  instantsearch.widgets.hits({
    container: '.search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

// Starting the search
search.start();
</script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "https://codemcd.github.io/pages/CODEMCD/algorithm/Algorithm-%EB%B9%84%ED%8A%B8%EB%A7%88%EC%8A%A4%ED%81%AC/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/algorithm/Algorithm-비트마스크"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://CODEMCD.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  


<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script>
  new Vue({
    el : '#category_tag_menu',
    data : {
      flag_c1 : true,
      flag_c2 : true,
      flag_c3 : true,
      flag_c4 : true
    },
    methods : {
      togglec1: function(){
        this.flag_c1 = !this.flag_c1;
      },
      togglec2: function(){
        this.flag_c2 = !this.flag_c2;
      },
      togglec3: function(){
        this.flag_c3 = !this.flag_c3;
      },
      togglec4: function(){
        this.flag_c4 = !this.flag_c4;
      }
    }
  });
</script>


  </body>
</html>
