---
title: "[데이터베이스] 트랜잭션(Transaction)"
excerpt: "최신 업데이트 날짜: 2019-05-05"
date: 2019-05-05 15:09:00
categories:
  - Study
tags:
  - Study_Database
search: true
toc: true
sidebar_main: true
---

트랜잭션은 데이터베이스의 상태를 변화시키기 위해 수행하는 작업의 **논리적인 단위** 로 일련의 연산들의 집합이다. 예를 들어, 계좌 간의 자금 이체가 있다. 입금 할 때, 데이터베이스 내부의 상대방 계좌 정보를 검색하고 자신과 상대방의 계좌 금액을 변경하는 등 여러 가지 연산이 필요하다. 하지만 이러한 작업의 중간 단계에서 멈추거나 오류가 발생하면 데이터에 매우 큰 영향을 미친다. 그러므로 이러한 작업은 정상적으로 전체 작업이 완료되거나 그럴 수 없는 경우 아무 것도 실행하지 않은 처음 상태로 되돌려져야 한다. 이러한 작업 단위를 트랜잭션이라 하고 이는 사람이 정하는 기준에 따라 달라 질 수 있다.

## 트랜잭션 특징
트랜잭션의 특징은 4 가지가 있다. 일반적으로 **ACID** 성질이라고 하며, 다음과 같다.
- **Atomicity(원자성)**: 트랜잭션의 모든 연산들이 정상적으로 수행 완료되거나 아니면 어떠한 연산도 수행되지 않은 상태를 보장해야 한다. 입금 과정에서 트랜잭션이 실패하여 어느 한 계좌에만 작업이 적용되거나 하는 경우가 발생하면 안되기 때문에, 실패하면 어느 작업도 적용되지 않고 트랜잭션이 수행되기 전의 상태로 유지되어야 한다.
- **Consistency(일관성)**: 트랜잭션의 수행이 데이터베이스의 일관성을 유지해야 한다. 즉, 성공적으로 수행된 트랜잭션은 정당한 데이터들만을 데이터베이스에 반영해야 한다. 트랜잭션이 수행이 보존해야할 일관성은 기본 키, 외래 키 제약과 같은 **명시적인 무결성 제약 조건** 과 자금 이체에서 두 계좌 간의 잔고 합은 이체 전후가 같아야 한다는 **비명시적인 일관성 조건** 들도 있다.
- **Isolation(독립성)**: 여러 트랜잭션이 동시에 수행되더라도 각각의 트랜잭션은 다른 트랜잭션의 수행에 영향을 받지 않고 독립적으로 수행되어야 한다. 이는 한 트랜잭션의 중간 결과가 다른 트랜잭션에게는 숨겨져야 한다는 의미이며, 이러한 성질이 보장되지 않으면 트랜잭션이 원래 상태로 되돌아갈 수 없게 된다.
- **Durability(지속성)**: 트랜잭션이 성공적으로 완료되어 커밋(commit)되고 나면, 해당 트랜잭션에 의한 모든 변경은 향후 어떠한 소프트웨어나 하드웨어 장애가 발생되더라도 보존되어야 한다.
