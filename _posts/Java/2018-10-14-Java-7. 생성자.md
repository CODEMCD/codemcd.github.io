---
title: "[Java]7. 생성자(Constructor)"
excerpt: "Java 객체지향프로그래밍"
search: true
categories:
  - Language
tags:
  - Language_Java
toc: true
sidebar_main: true
---

# 7. 생성자(Constructor)

## 정의
- 인스턴스가 생성될 때 호출되는 '인스턴스 초기화 메서드'이다.
- 조건
	- 메서드와 같이 클래스 내부에 선언된다.
	- 생성자의 이름은 클래스의 이름과 같아야 한다.
	- 생성자는 리턴 값이 없다.
		- void도 사용하지 않으며, 아무것도 적지 않는다.
- 오버로딩이 가능하다.
- 주의할 점은 연산자 new가 인스턴스를 생성하는 것이며, 생성자는 단지 인스턴스를 초기화하는 것이다.
- 예제

```java
class Card {
	Card() {    //매개변수가 없는 생성자
		...
	}
	Card(String k, int num) {    //매개변수가 있는 생성자(오버로딩)
		...
	}
}
```

- __클래스 변수명 = new 클래스();__ 동작 과정
	- 연산자 new에 의해 메모리(heap)에 클래스의 인스턴스가 생성된다.
	- 생성자 **클래스()** 가 호출되어 수행된다.
	- 연산자 new의 결과로, 생성된 클래스 인스턴스의 주소가 반환되어 참조변수 변수명에 저장된다.

## 기본 생성자(default constructor)
- 모든 클래스에는 반드시 하나 이상의 생성자가 정의되어 있어야 하지만, 만약 정의되어 있지 않다면 컴파일러가 기본 생성자를 제공한다.
- 기본 생성자의 형태는 ```클래스이름() { }```이며, 매개변수와 내용은 아무것도 정의되지 않는다.
- 클래스의 접근 제어자가 'public'인 경우의 기본생성자는 ```public 클래스이름() { }```이다.
- 클래스 내부에 생성자가 하나라도 선언되어 있다면, 기본생성자는 생성되지 않는다.

## 생성자에서 다른 생성자 호출하기 - this(), this
- 조건
	- 생성자의 이름으로 클래스이름 대신 this를 사용한다.
	- 한 생성자에서 다른 생성자를 호출할 때는 반드시 첫 줄에서만 호출이 가능하다.
- 잘못된 예제

```java
Car(String color) {
	door = 5;              //첫 번째 줄
	Car(color, "auto", 4); //에러1: 생성자의 두 번째 줄에서 다른 생성자 호출
	                       //에러2: this(color, "auto", 4);로 해야함
}
```

- 특징
	- 밑의 예제에서 1)생성자와 같이 this()를 사용하면, 간략히 표현이 가능하고 유지보수가 쉬운 코드를 만들 수 있다.
	- 3)생성자에서 매개변수(지역변수) 이름과 인스턴스변수가 이름이 같은데 이를 구분하기 위해 참조변수 this를 사용한다.(this를 붙히지 않으면 둘 다 지역변수로 사용된다.)
	- **참조변수 this**
		- 인스턴스 자신을 가리키는 참조변수(인스턴스 주소가 저장되어 있음.)
		- 모든 인스턴스 메서드에 지역변수로 줌겨진 채로 존재한다.
		- static 메서드(클래스 메서드)에서는 사용할 수 없다.
	- **생성자 this(), this(매개변수)**
		- 생성자로서, 같은 클래스의 다른 생성자를 호출할 때 사용한다.
	- 현재 사용하고 있는 인스턴스와 같은 상태를 갖는 인스턴스를 하나 더 만들고자 할 때 생성자의 매개변수에 클래스의 참조변수를 사용할 수 있다.
	(밑의 예제 4) 참고)
		- 같은 내용의 서로 독립적인 인스턴스를 만들 수 있다.</br>

___예제 코드___

```java
class Car {
	String color;
	String gearType;
	int door;

	// 1)
	Car() {
		this("White", "auto", 4);  //Car(String color, String gearType, int door) 호출
	}
	// 2)
	Car(String color) {
		this(color, "auto", 4);
	}
	// 3)
	Car(String color, String gearType, int door) {
		this.color = color;
		this.gearType = gearType;
		this.door = door;
	}
	// 4) 인스턴스의 복사를 위한 생성자
	Car(Car c) {
		color = c.color;
		gearType = c.gearType;
		door = c.door;
		//this(c.color, c.gearType, c.door); // 더 바람직한 방법
	}
}

class CarTest {
	public static void main(String[] args) {
		Car c1 = new Car();
		Car c2 = new Car("Blue");
		Car c3 = new Car(c1);

		System.out.println("c1 color: " + c1.color + ", gearType: " + c1.gearType + ", door: " + c1.door);
		System.out.println("c2 color: " + c2.color + ", gearType: " + c2.gearType + ", door: " + c2.door);
		System.out.println("c3 color: " + c3.color + ", gearType: " + c3.gearType + ", door: " + c3.door);
	}
}
```

___실행 결과___

```
c1 color: While, gearType: auto, door: 4
c2 color: Blue, gearType: auto, door: 4
c3 color: While, gearType: auto, door: 4
```
