---
title: "[BOJ] 2580.스도쿠"
excerpt: "백트래킹"
search: true
sidebar_main: true
categories:
  - PS
tags:
  - BOJ
---

# 스도쿠

## 문제 링크
- [https://www.acmicpc.net/problem/2580](https://www.acmicpc.net/problem/2580)

## 해결 방법
### 백트래킹
- 입력으로 주어진 스도쿠 배열에서 빈칸이면 해당 좌표를 저장하고, 숫자라면 해당 숫자가 나왔다는 표시를 한다.
- 재귀 함수는 모든 빈칸이 채워질 때까지 실행한다.
- 재귀 함수안에서는 빈칸인 좌표의 행, 열, 박스에서 숫자 ```1 ~ 9```중에서 3곳 모두 나오지 않은 숫자를 보드에 삽입하고 다음 재귀 함수를 실행한다.

## 결과 코드

```cpp
#define _CRT_SECURE_NO_WARNINGS
#include <iostream>
#include <cstdio>
#include <algorithm>
#include <vector>
#include <string>
using namespace std;
#define cell(y, x) (((y) / 3 * 3) + ((x) / 3))
//빈칸 좌표 저장
pair<int, int> hole[81];
//스도쿠 보드
int board[9][9];
//빈칸 개수
int hIdx = 0;
//해당 행, 열, 박스안에 어떤 숫자가 있는지 검사하는 배열
bool checkRow[10][10], checkCol[10][10], checkSeq[10][10];

//모든 빈칸이 알맞게 채워졌는지에 대한 플래그
bool finishFlag = false;
//빈칸 채우기
void fillBoard(int idx) {
	//기저 사례: 빈칸이 모두 채워진 경우
	if (idx == hIdx) {
		finishFlag = true;
		return;
	}
	//현재 x, y 좌표
	int nowy = hole[idx].first;
	int nowx = hole[idx].second;

	//빈칸에 추가하기
	for (int i = 1; i < 10; ++i) {
		//행, 열, 박스 모두 없는 숫자인 경우 빈칸에 추가한다.
		if (!checkRow[nowy][i] && !checkCol[nowx][i]
			&& !checkSeq[cell(nowy, nowx)][i]) {
			//해당 숫자를 추가한다.
			checkRow[nowy][i] = checkCol[nowx][i] =
				checkSeq[cell(nowy, nowx)][i] = true;
			board[nowy][nowx] = i;
			fillBoard(idx + 1);
			//모두 찾았다면 함수를 나간다.
			if (finishFlag) return;
			//아닌 경우 다시 빈칸으로 만든다.
			board[nowy][nowx] = 0;
			checkRow[nowy][i] = checkCol[nowx][i] =
				checkSeq[cell(nowy, nowx)][i] = false;
		}
	}
}

int main(void)
{
	for (int i = 0; i < 9; ++i) {
		for (int j = 0; j < 9; ++j) {
			scanf("%d", &board[i][j]);
			//빈칸이면 좌표 배열에 저장한다.
			if (!board[i][j])
				hole[hIdx++] = make_pair(i, j);
			//빈칸이 아니면 해당 숫자가 나왔다는 표시를 한다.
			else {
				checkRow[i][board[i][j]] = true;
				checkCol[j][board[i][j]] = true;
				checkSeq[cell(i, j)][board[i][j]] = true;
			}
		}
	}

	//모든 빈칸 채우기
	fillBoard(0);
	for (int i = 0; i < 9; ++i) {
		for (int j = 0; j < 9; ++j)
			printf("%d ", board[i][j]);
		printf("\n");
	}

	return 0;
}
```
