---
title: "[Kotlin]6. 흐름 제어(control flow)"
excerpt: "Kotlin 개념"
search: true
categories:
  - Kotlin
tags:
  - 개념 정리
toc: true
---

# 흐름 제어(control flow)

## 자바와 동일한 구문
- if-else문
- while문, for문

## 코틀린 구문
### 1. when문
- when문은 자바의 switch문을 대체하며, 훨씬 더 많은 기능이 추가되었다.
- when문은 각각의 branch의 조건문이 만족할 때까지 위에서 부터 순차적으로 인자를 비교한다.
- when문 안의 else문은 다른 모든 branch가 조건에 성립하지 않을 때 수행된다.
  - else문은 필수로 있어야 하며, 없으면 컴파일 에러가 난다.
  - when문이 식으로 사용된 경우 else문이 없어도 된다는 것을 컴파일러가 입증할 수 있는 경우 생략 가능하다.

  ```
  var res = when (x) {
    true -> "맞다"
    false -> "틀리다"
  }
  ```

- 사용 예제
  - 기본 예제

  ```
  when (x) {
    1 -> print("x == 1")
    2 -> print("x == 2")
    else -> { // Note the block
      print("x is neither 1 nor 2")
    }
  }
  ```

  - 여러 개의 조건이 사용된 경우

  ```
  when (x) {
    0, 1 -> print("x == 0 or x == 1")
    else -> print("otherwise")
  }
  ```

  - 조건에 함수나 식이 사용된 경우

  ```
  when (x) {
    parseInt(x) -> print("s encodes x")
    1 + 3 -> print("4")
    else -> print("s does not encode x")
  }
  ```

  - 범위 연산자 '..', collection에 'in'연산자로 범위를 검사하는 경우

  ```
  val validNumbers = listOf(3, 6, 9)
  when (x) {
    in validNumbers -> print("x is valid")
    in 1..10 -> print("x is in the range")
    !in 10..20 -> print("x is outside the range")
    else -> print("none of the above")
  }
  ```

  - is 연산자를 이용하여 타입 검사를 하는 경우

  ```
  //스마트 캐스트가 적용된다.
  fun hasPrefix(x: Any) = when(x) {
    is String -> x.startsWith("prefix")
    else -> false
  }
  ```

  - when문에 인자를 입력하지 않으면 논리 연산을 검사한다. (if-else문 대체 가능)

  ```
  when {
    x.isOdd() -> print("x is odd")
    x.isEven() -> print("x is even")
    else -> print("x is funny")
  }
  ```

### 2. 범위 연산자
- ..연산자

```
//0부터 10까지, 시작과 끝을 포함하는 범위를 정의한다.
val myRange: IntRange = 0..10
```

- until 함수

```
val items: List<String> = ... //항목이 담긴 리스트라고 가정

val myRange: IntRage = 0..3
//마지막 값을 포함하지 않는 범위, 즉 0, 1, 2, 3 의 인덱스를 나타낸다.
val myRange: IntRage = 0 until 4
```

- dounTo() 함수, step() 함수

```
//2씩 감소하는 for문
for (i in 5 downTo 1 step 2) {
  System.out.print(i)
}
```
