---
title: "[jsdsLib]npm 패키지"
excerpt: "npm 패키지 만들기, 사용하기 등"
categories:
  - Toy
tags:
  - Toy_jsdsLib
search: true
sidebar_main: true
toc: true
---

## 패키지 만들기
npm 패키지를 만들기 위해서는 패키지로 만들 디렉토리가 필요하다. 해당 디렉토리 내부에 패키지할 내용들이 들어 있어야 한다. 그리고 cmd 창을 열어 해당 디렉토리로 이동하고 아래의 순서대로 진행하자.

1. 해당 디렉토리를 패키지화 한다.
```
npm init
```
2. ```npm init``` 명령어를 입력하면 package.json 파일을 작성해야한다.
  - 각 항목에서 보여주는 () 안의 값들은 디폴트 값으로, 입력없이 엔터를 누르면 해당 값으로 설정된다.
  - name: 패키지 이름, 이 이름은 유일해야 한다.
  - version: 패키지 버전
  - description: 패키지에 대한 설명
  - entry point: 패키지를 실행했을 때, 맨 처음 불러오는 파일, package.json 파일에서는 main 으로 표시된다. (일반적으로 main 코드가 있는 파일로 설정한다.)
  - test command: test script 를 실행할 명령어
  - git repository: 해당 패키지를 github 에 저장해두었거나, 저장할 계획이라면 설정한다. (github 에서 clone 받은 프로젝트라면, 자동으로 설정되어 있다.)
  - keywords: 해당 패키지의 태그 역할을 한다. (패키지와 연관된 단어들을 띄어쓰기로 구분하여 입력한다.)
  - author: 패키지 저자
  - license: 패키지에 대한 라이선스, 기본값으로 MIT로 설정되어 있다.
4. npm 공식 사이트 로그인
```
npm adduser
```

아이디, 비밀번호, 이메일을 입력한다.
5. 패키지 배포
```
npm publish
```

## 패키지 업데이트
패키지의 package.json 파일에서 version 을 변경하고 ```npm publish``` 명령어를 수행한다. (버전이 같으면 오류가 발생한다.)

## 패키지 사용
패키지를 사용하기 위해서는 해당 디렉토리 역시 패키지화 해야한다. 패키지화를 하지 않으면 package.json 파일을 찾을 수 없다는 에러가 발생한다.

1. 디렉토리 패키지화
```
npm init
```
해당 디렉토리를 다시 패키지화한다면 그에 맞게 package.json 정보를 입력하고, 그렇지 않다면 모두 기본값으로 설정해도 무관하다. (어차피 package.json 파일은 언제든지 수정가능하다.)
2. 사용할 패키지 설치
```
npm install 패키지 이름
```
대부분의 패키지는 위의 명령어로 설치할 수 있지만, README.md 파일에서 해당 패키지의 설치 방법을 보고 설치하는 것을 추천한다.
  - 설치 명령어에 ```--save``` 옵션을 추가하면 현재 패키지와 설치한 패키지 사이에 의존성이 생긴다. 현재 패키지를 설치하면 의존성 관계인 패키지가 같이 설치된다. 의존성 관계는 package.json 파일에서 확인할 수 있다.

3. 이제 패키지 사용방법에 따라 사용할 수 있다.


## 유용한 패키지
- uglify-js: 해당 자바스크립트 파일에서 필요없는 데이터를 삭제한다.
  - 띄어쓰기, 탭, 엔터 등을 삭제한다.
  - ```-m``` 플래그를 사용하면 변수 이름을 아주 작은 글자 수로 줄인다.
  - 해당 자바스크립트 파일 데이터를 최소화하여 네트워크 효율성을 극대화하기 위해 사용한다.
- underscore: 자바스크립트에서 부족한 배열, 문자열 등의 매서드를 제공한다.
  - 통상 `_` 변수를 많이 사용한다.


## 참고 문헌
- 생활 코딩 - npm과 모듈
- http://sanghaklee.tistory.com/34
- https://blog.outsider.ne.kr/829
